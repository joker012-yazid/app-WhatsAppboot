(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2238],{28305:function(e,t,n){Promise.resolve().then(n.bind(n,4556))},4556:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(27573),l=n(88146),s=n(81695),a=n(7653),o=n(77930),i=n(31988),u=n(15969),c=n(22628),d=n(45118),m=n(50466),f=n(73638),h=n(10957),v=n(41799),p=n(327);function x(){var e,t;let{id:n}=(0,s.useParams)(),x=(0,s.useRouter)(),g=(0,o.NL)(),b=(0,i.a)({queryKey:["customer",n],queryFn:async()=>(0,d.R1)("/api/customers/".concat(n))}),{user:y}=(0,v.a)(),N=b.data,[j,w]=(0,a.useState)(""),[A,E]=(0,a.useState)(""),[k,C]=(0,a.useState)(""),[T,I]=(0,a.useState)(""),[S,P]=(0,a.useState)(null),_=(0,f.p)(),D=(0,h.N)();(0,a.useEffect)(()=>{N&&(w(N.name),E(N.phone),C(N.email||""),I(N.notes||""))},[null==N?void 0:N.id]);let R=(0,u.D)({mutationFn:async()=>(0,d.pE)("/api/customers/".concat(n),{name:j,phone:A,email:k,notes:T}),onSuccess:async()=>{await g.invalidateQueries({queryKey:["customer",n]}),await g.invalidateQueries({queryKey:["customers"]}),_.success("Customer updated")},onError:e=>{let t=(null==e?void 0:e.message)||"Failed to save";P(t),_.error(t)}}),M=(0,u.D)({mutationFn:async()=>(0,d.QW)("/api/customers/".concat(n)),onSuccess:async()=>{await g.invalidateQueries({queryKey:["customers"]}),_.success("Customer deleted"),x.replace("/customers")},onError:e=>{let t=(null==e?void 0:e.message)||"Failed to delete";P(t),_.error(t)}}),O=!!N&&((null===(e=N._count)||void 0===e?void 0:e.devices)||0)+((null===(t=N._count)||void 0===t?void 0:t.jobs)||0)>0;return(0,r.jsx)(c.Z,{children:(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-muted-foreground",children:"Customer Detail"}),(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:N?N.name:"Loading…"}),N?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:N.phone}):null]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(m.z,{variant:"outline",asChild:!0,children:(0,r.jsx)(l.default,{href:"/customers",children:"Back"})}),(0,p.A)(null==y?void 0:y.role,["ADMIN","MANAGER"])?(0,r.jsx)(m.z,{variant:"destructive",disabled:O||M.isPending,onClick:async()=>{await D({title:"Delete customer",description:"Are you sure you want to delete this customer? This action cannot be undone.",variant:"destructive",confirmText:"Delete"})&&M.mutate()},children:O?"Has records":"Delete"}):null]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"md:col-span-2 rounded-xl border bg-card p-4",children:[(0,r.jsx)("h2",{className:"mb-3 text-lg font-semibold",children:"Edit Customer"}),(0,p.A)(null==y?void 0:y.role,["ADMIN","MANAGER"])?null:(0,r.jsx)("p",{className:"mb-3 text-sm text-amber-700",children:"You have read-only access. Editing is restricted to Admin/Manager."}),O?(0,r.jsx)("p",{className:"mb-3 text-sm text-muted-foreground",children:"This customer has related records. You can update details but deletion is disabled."}):null,(0,r.jsxs)("form",{className:"space-y-3",onSubmit:e=>{e.preventDefault(),P(null),R.mutate()},children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-sm font-medium",htmlFor:"name",children:"Name"}),(0,r.jsx)("input",{id:"name",value:j,onChange:e=>w(e.target.value),className:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",required:!0,disabled:!(0,p.A)(null==y?void 0:y.role,["ADMIN","MANAGER"])})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-sm font-medium",htmlFor:"phone",children:"Phone"}),(0,r.jsx)("input",{id:"phone",value:A,onChange:e=>E(e.target.value),className:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",required:!0,disabled:!(0,p.A)(null==y?void 0:y.role,["ADMIN","MANAGER"])})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-sm font-medium",htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:k,onChange:e=>C(e.target.value),className:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",disabled:!(0,p.A)(null==y?void 0:y.role,["ADMIN","MANAGER"])})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-sm font-medium",htmlFor:"notes",children:"Notes"}),(0,r.jsx)("input",{id:"notes",value:T,onChange:e=>I(e.target.value),className:"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",disabled:!(0,p.A)(null==y?void 0:y.role,["ADMIN","MANAGER"])})]}),S?(0,r.jsx)("p",{className:"text-sm text-red-500",children:S}):null,(0,p.A)(null==y?void 0:y.role,["ADMIN","MANAGER"])?(0,r.jsx)(m.z,{type:"submit",disabled:R.isPending,children:R.isPending?"Saving…":"Save changes"}):null]})]}),(0,r.jsxs)("aside",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"rounded-xl border bg-card p-4",children:[(0,r.jsx)("h3",{className:"mb-2 text-sm font-semibold text-muted-foreground",children:"Devices"}),N?0===N.devices.length?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No devices."}):(0,r.jsx)("ul",{className:"space-y-2 text-sm",children:N.devices.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(l.default,{href:"/devices/".concat(e.id),className:"underline hover:no-underline",children:[e.deviceType,e.brand,e.model].filter(Boolean).join(" ")})},e.id))}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading…"})]}),(0,r.jsxs)("div",{className:"rounded-xl border bg-card p-4",children:[(0,r.jsx)("h3",{className:"mb-2 text-sm font-semibold text-muted-foreground",children:"Jobs"}),N?0===N.jobs.length?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No jobs."}):(0,r.jsx)("ul",{className:"space-y-2 text-sm",children:N.jobs.map(e=>(0,r.jsxs)("li",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)(l.default,{href:"/jobs/".concat(e.id),className:"underline hover:no-underline",children:e.title}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleString()})]},e.id))}):(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading…"})]})]})]})]})})}},22628:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(27573),l=n(81695),s=n(7653),a=n(41799);function o(e){let{children:t,redirectOnFail:n=!0}=e,{user:o,loading:i,error:u,status:c}=(0,a.a)(),d=(0,l.useRouter)();return((0,s.useEffect)(()=>{if(n&&!i&&(!o||u||"unauthenticated"===c)){let e=u?"?reason=".concat(encodeURIComponent(u)):"";d.replace("/login".concat(e))}},[o,i,u,d,n,c]),i)?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading session..."}):!o&&n?null:(0,r.jsx)(r.Fragment,{children:t})}},10957:function(e,t,n){"use strict";n.d(t,{N:function(){return i},W:function(){return o}});var r=n(27573),l=n(7653),s=n(3458);let a=(0,l.createContext)(void 0);function o(e){let{children:t}=e,[n,o]=(0,l.useState)(null),[i,u]=(0,l.useState)(!1),c=(0,l.useRef)(null),d=(0,l.useRef)(null),m=(0,l.useRef)(null);(0,l.useEffect)(()=>{u(!0)},[]);let f=(0,l.useCallback)(e=>new Promise(t=>{var n,r,l,s,a;o({id:Date.now(),resolve:t,title:null!==(n=e.title)&&void 0!==n?n:"Confirm action",description:null!==(r=e.description)&&void 0!==r?r:"Are you sure you want to proceed? This action cannot be undone.",confirmText:null!==(l=e.confirmText)&&void 0!==l?l:"Confirm",cancelText:null!==(s=e.cancelText)&&void 0!==s?s:"Cancel",variant:null!==(a=e.variant)&&void 0!==a?a:"default"})}),[]),h=(0,l.useMemo)(()=>({confirm:f}),[f]),v=(0,l.useCallback)(e=>{o(t=>(t&&t.resolve(e),null))},[]);(0,l.useEffect)(()=>{if(!n)return;c.current=document.activeElement||null;let e=setTimeout(()=>{var e;null===(e=d.current||m.current)||void 0===e||e.focus()},0),t=e=>{if(n){if("Escape"===e.key){e.preventDefault(),v(!1);return}if("Enter"===e.key){e.preventDefault(),v(!0);return}if("Tab"===e.key){let t=[m.current,d.current].filter(Boolean);if(0===t.length)return;let n=t.indexOf(document.activeElement);if(e.shiftKey){let r=n<=0?t[t.length-1]:t[n-1];e.preventDefault(),r.focus()}else{let r=-1===n||n>=t.length-1?t[0]:t[n+1];e.preventDefault(),r.focus()}}}};return document.addEventListener("keydown",t),()=>{clearTimeout(e),document.removeEventListener("keydown",t);try{var n;null===(n=c.current)||void 0===n||n.focus()}catch(e){}}},[n,v]);let p=i&&n?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",role:"presentation",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>v(!1)}),(0,r.jsxs)("div",{className:"relative z-10 w-full max-w-sm rounded-xl border border-slate-800 bg-slate-950/90 p-5 shadow-2xl shadow-black/40 outline-none backdrop-blur",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title","aria-describedby":"confirm-desc",tabIndex:-1,children:[(0,r.jsx)("h3",{id:"confirm-title",className:"mb-1 text-lg font-semibold text-slate-50",children:n.title}),(0,r.jsx)("p",{id:"confirm-desc",className:"mb-4 text-sm text-slate-300",children:n.description}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{ref:m,className:"rounded-md border border-slate-700 px-3 py-1.5 text-sm text-slate-200 transition hover:border-slate-500 hover:bg-slate-900",onClick:()=>v(!1),children:n.cancelText}),(0,r.jsx)("button",{ref:d,className:"rounded-md px-3 py-1.5 text-sm text-white transition ".concat("destructive"===n.variant?"bg-red-600 hover:bg-red-700":"bg-sky-600 hover:bg-sky-500"),onClick:()=>v(!0),children:n.confirmText})]})]})]}):null;return(0,r.jsxs)(a.Provider,{value:h,children:[t,i&&"undefined"!=typeof document&&p?(0,s.createPortal)(p,document.body):null]})}function i(){let e=(0,l.useContext)(a);if(!e)throw Error("useConfirm must be used within ConfirmProvider");return e.confirm}},73638:function(e,t,n){"use strict";n.d(t,{V:function(){return i},p:function(){return u}});var r=n(27573),l=n(7653),s=n(3458);function a(e){let{message:t,variant:n="info",onClose:s,duration:a=2500}=e;return(0,l.useEffect)(()=>{if(!a)return;let e=setTimeout(()=>s&&s(),a);return()=>clearTimeout(e)},[a,s]),(0,r.jsx)("div",{className:"pointer-events-auto fixed bottom-4 right-4 z-50 max-w-sm rounded-lg border bg-slate-950/90 px-4 py-3 shadow-lg shadow-black/40 backdrop-blur ".concat("success"===n?"border-emerald-500/60 text-emerald-50":"error"===n?"border-red-500/60 text-red-50":"warning"===n?"border-amber-500/60 text-amber-50":"border-slate-700 text-slate-50"),role:"status","aria-live":"polite",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"text-sm",children:t}),s?(0,r.jsx)("button",{className:"ml-auto text-xs text-slate-300 opacity-80 transition hover:opacity-100",onClick:s,"aria-label":"Close",children:"x"}):null]})})}let o=(0,l.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,l.useState)([]),[u,c]=(0,l.useState)(!1);(0,l.useEffect)(()=>{c(!0)},[]);let d=(0,l.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),m=(0,l.useCallback)((e,t)=>{var n,r;let l={id:Math.floor(Date.now()+1e3*Math.random()),message:e,variant:null!==(n=null==t?void 0:t.variant)&&void 0!==n?n:"info",duration:null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:2500};i(e=>[...e,l])},[]),f=(0,l.useMemo)(()=>({show:m,success:(e,t)=>m(e,{variant:"success",duration:t}),error:(e,t)=>m(e,{variant:"error",duration:t}),info:(e,t)=>m(e,{variant:"info",duration:t}),warning:(e,t)=>m(e,{variant:"warning",duration:t})}),[m]);(0,l.useEffect)(()=>(globalThis.__toast=f,()=>{globalThis.__toast===f&&delete globalThis.__toast}),[f]);let h=u&&n.length>0?(0,r.jsx)(r.Fragment,{children:n.map(e=>(0,r.jsx)(a,{message:e.message,variant:e.variant,duration:e.duration,onClose:()=>d(e.id)},e.id))}):null;return(0,r.jsxs)(o.Provider,{value:f,children:[t,u&&"undefined"!=typeof document&&h?(0,s.createPortal)(h,document.body):null]})}function u(){let e=(0,l.useContext)(o);if(!e)throw Error("useToast must be used within ToastProvider");return e}},50466:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(27573),l=n(7653),s=n(8828),a=n(49289),o=n(29147);let i=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=l.forwardRef((e,t)=>{let{className:n,variant:l,size:a,asChild:u=!1,...c}=e,d=u?s.g7:"button";return(0,r.jsx)(d,{className:(0,o.cn)(i({variant:l,size:a,className:n})),ref:t,...c})});u.displayName="Button"},45118:function(e,t,n){"use strict";n.d(t,{QW:function(){return f},R1:function(){return d},SC:function(){return u},pE:function(){return m},sg:function(){return c},zi:function(){return h}});let r="http://localhost:4000",l=()=>window.sessionStorage,s="accessToken",a="refreshToken",o=e=>e.startsWith("/api/auth/login")||e.startsWith("/api/auth/register")||e.startsWith("/api/auth/refresh"),i=!1;async function u(e){var t,n,c,d,m,f,h,v,p;let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:g="GET",body:b,headers:y,_retry:N}=x,j="".concat(r).concat(e),w=l(),A=(null==w?void 0:w.getItem(s))||null,E=(null==w?void 0:w.getItem(a))||null;try{let l=await fetch(j,{method:g,headers:{"Content-Type":"application/json",...y||{},...A&&!o?{Authorization:"Bearer ".concat(A)}:{}},body:b?JSON.stringify(b):void 0,credentials:"include"}),i=await l.text(),m={};if(i)try{m=JSON.parse(i)}catch(e){m={message:i}}if(!l.ok){let i=(null==m?void 0:m.message)||"HTTP ".concat(l.status,": ").concat(l.statusText);if(console.error("[API] Request failed: ".concat(g," ").concat(j," - ").concat(i)),401===l.status&&(console.warn("[API] Unauthorized – will let auth layer handle redirect / logout"),!o(e)&&!N&&E)){try{let t=await fetch("".concat(r,"/api/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:E}),credentials:"include"});if(t.ok){let n=await t.json(),r=null==n?void 0:n.accessToken,l=null==n?void 0:n.refreshToken;return r&&(null==w||w.setItem(s,r)),l&&(null==w||w.setItem(a,l)),u(e,{...x,_retry:!0})}}catch(e){console.error("[API] Refresh token request failed",e)}null==w||w.removeItem(s),null==w||w.removeItem(a)}if(502===l.status||503===l.status||504===l.status){let e={code:"BACKEND_UNAVAILABLE",message:"Backend API server is not running. Please start the API server on port 4000."};try{null===(n=globalThis.__toast)||void 0===n||null===(t=n.error)||void 0===t||t.call(n,e.message)}catch(e){}let r=Error(e.message);throw r.code=e.code,r}try{null===(d=globalThis.__toast)||void 0===d||null===(c=d.error)||void 0===c||c.call(d,i)}catch(e){}throw Error(i)}return m}catch(t){if((null==t?void 0:null===(m=t.message)||void 0===m?void 0:m.includes("Failed to fetch"))||(null==t?void 0:null===(f=t.message)||void 0===f?void 0:f.includes("NetworkError"))||(null==t?void 0:null===(h=t.message)||void 0===h?void 0:h.includes("ECONNREFUSED"))||(null==t?void 0:t.name)==="TypeError"){let e={code:"BACKEND_UNAVAILABLE",message:"Backend API server is not running. Please start the API server on port 4000."};i||(console.error("[API] Connection error: ".concat(g," ").concat(j),t),i=!0);try{null===(p=globalThis.__toast)||void 0===p||null===(v=p.error)||void 0===v||v.call(p,e.message)}catch(e){}let n=Error(e.message);throw n.code=e.code,n}if(t instanceof Error&&t.message)throw t;let e=(null==t?void 0:t.message)||"Failed to fetch: ".concat(g," ").concat(j);throw console.error("[API] Request error: ".concat(g," ").concat(j),t),Error(e)}}let c=(e,t)=>u(e,{method:"POST",body:t}),d=e=>u(e,{method:"GET"}),m=(e,t)=>u(e,{method:"PUT",body:t}),f=e=>u(e,{method:"DELETE"});async function h(e,t){let n=await fetch("".concat(r).concat(e),{method:"POST",body:t,credentials:"include"}),l=await n.text(),s=l?JSON.parse(l):{};if(!n.ok)throw Error((null==s?void 0:s.message)||"HTTP ".concat(n.status));return s}},41799:function(e,t,n){"use strict";n.d(t,{H:function(){return c},a:function(){return d}});var r=n(27573),l=n(7653),s=n(45118);let a=(0,l.createContext)(void 0),o=()=>window.sessionStorage,i="accessToken",u="refreshToken",c=e=>{let{children:t}=e,[n,c]=(0,l.useState)(null),[d,m]=(0,l.useState)("authenticating"),[f,h]=(0,l.useState)(null),[v,p]=(0,l.useState)(null),x="authenticating"===d,g=(0,l.useCallback)(()=>{let e=o();null==e||e.removeItem(i),null==e||e.removeItem(u),p(null)},[]),b=(0,l.useCallback)(()=>{let e=o();return e?{access:e.getItem(i),refresh:e.getItem(u)}:{access:null,refresh:null}},[]),y=(0,l.useCallback)((e,t)=>{let n=o();n&&(e&&n.setItem(i,e),t&&n.setItem(u,t))},[]),N=(0,l.useCallback)(async()=>{let e=await (0,s.R1)("/api/auth/me");return c(e),m("authenticated"),h(null),e},[]),j=(0,l.useCallback)(async()=>{let{refresh:e}=b();if(!e)return!1;try{let n=await (0,s.sg)("/api/auth/refresh",{refreshToken:e});if(null==n?void 0:n.accessToken){var t;return y(n.accessToken,null!==(t=n.refreshToken)&&void 0!==t?t:e),p(n.accessToken),!0}return!1}catch(e){return g(),!1}},[g,b,y]),w=(0,l.useCallback)(async(e,t)=>{h(null),m("authenticating");try{let r=await (0,s.sg)("/api/auth/login",{email:e,password:t});if(null==r?void 0:r.accessToken){var n;y(r.accessToken,null!==(n=r.refreshToken)&&void 0!==n?n:null),p(r.accessToken)}let l=(null==r?void 0:r.user)?r.user:await N();c(l),m("authenticated")}catch(e){throw h((null==e?void 0:e.message)||"Login failed"),m("unauthenticated"),g(),e}},[N,y,g]),A=(0,l.useCallback)(async()=>{try{let{refresh:e}=b();e&&await (0,s.sg)("/api/auth/logout",{refreshToken:e})}catch(e){}finally{g(),c(null),m("unauthenticated")}},[g,b]);(0,l.useEffect)(()=>{let e=!1;return(async()=>{m("authenticating");try{let{access:t,refresh:n}=b(),r=!!t;!r&&n?r=await j():t&&p(t),r?(await N(),e||m("authenticated")):e||(m("unauthenticated"),c(null))}catch(t){if(!e){let e=(null==t?void 0:t.message)||"";(e.includes("Backend API")||e.includes("BACKEND_UNAVAILABLE"))&&h(e),m("unauthenticated"),c(null),g()}}})(),()=>{e=!0}},[j,N,g,b]);let E=(0,l.useMemo)(()=>({user:n,loading:x,status:d,error:f,login:w,logout:A,accessToken:v}),[n,x,d,f,w,A,v]);return(0,r.jsx)(a.Provider,{value:E,children:t})},d=()=>{let e=(0,l.useContext)(a);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},327:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});let r=(e,t)=>!!e&&t.includes(e)},29147:function(e,t,n){"use strict";n.d(t,{cn:function(){return r}});let r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}},88146:function(e,t,n){"use strict";n.d(t,{default:function(){return l.a}});var r=n(16340),l=n.n(r)},94492:function(e,t,n){"use strict";n.d(t,{F:function(){return s},e:function(){return a}});var r=n(7653);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let n=!1,r=e.map(e=>{let r=l(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():l(e[t],null)}}}}function a(...e){return r.useCallback(s(...e),e)}},8828:function(e,t,n){"use strict";n.d(t,{g7:function(){return c}});var r,l=n(7653),s=n(94492),a=n(27573),o=Symbol.for("react.lazy"),i=(r||(r=n.t(l,2)))[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var c=function(e){let t=function(e){let t=l.forwardRef((e,t)=>{let{children:n,...r}=e;if(u(n)&&"function"==typeof i&&(n=i(n._payload)),l.isValidElement(n)){var a;let e,o;let i=(a=n,(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref),u=function(e,t){let n={...t};for(let r in t){let l=e[r],s=t[r];/^on[A-Z]/.test(r)?l&&s?n[r]=(...e)=>{let t=s(...e);return l(...e),t}:l&&(n[r]=l):"style"===r?n[r]={...l,...s}:"className"===r&&(n[r]=[l,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==l.Fragment&&(u.ref=t?(0,s.F)(t,i):i),l.cloneElement(n,u)}return l.Children.count(n)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=l.forwardRef((e,n)=>{let{children:r,...s}=e;u(r)&&"function"==typeof i&&(r=i(r._payload));let o=l.Children.toArray(r),c=o.find(m);if(c){let e=c.props.children,r=o.map(t=>t!==c?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...s,ref:n,children:l.isValidElement(e)?l.cloneElement(e,void 0,r):null})}return(0,a.jsx)(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}("Slot"),d=Symbol("radix.slottable");function m(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},49289:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(10607);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.W,a=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(e=>{let t=null==n?void 0:n[e],r=null==o?void 0:o[e];if(null===t)return null;let s=l(t)||l(r);return a[e][s]}),u=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return s(e,i,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...l}=t;return Object.entries(l).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...u}[t]):({...o,...u})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}},10607:function(e,t,n){"use strict";function r(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=function e(t){var n,r,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(n=0;n<s;n++)t[n]&&(r=e(t[n]))&&(l&&(l+=" "),l+=r)}else for(r in t)t[r]&&(l&&(l+=" "),l+=r)}return l}(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{W:function(){return r}})}},function(e){e.O(0,[6340,3953,4701,1293,1528,1744],function(){return e(e.s=28305)}),_N_E=e.O()}]);