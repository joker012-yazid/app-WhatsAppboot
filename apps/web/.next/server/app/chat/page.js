(()=>{var e={};e.id=929,e.ids=[929],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},75063:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(68127),s(41676),s(74773),s(87824);var r=s(93282),a=s(5736),n=s(93906),i=s.n(n),l=s(36880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,68127)),"/home/user/app-WhatsAppboot/apps/web/src/app/chat/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,41676)),"/home/user/app-WhatsAppboot/apps/web/src/app/chat/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,74773)),"/home/user/app-WhatsAppboot/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,87824,23)),"next/dist/client/components/not-found-error"]}],c=["/home/user/app-WhatsAppboot/apps/web/src/app/chat/page.tsx"],u="/chat/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},86117:(e,t,s)=>{Promise.resolve().then(s.bind(s,6998))},51205:(e,t,s)=>{Promise.resolve().then(s.bind(s,4884))},6998:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(73227),a=s(90708);function n({children:e}){return r.jsx(a.L,{children:e})}},4884:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var r=s(73227),a=s(901),n=s.n(a),i=s(23677),l=s(36029),o=s(66655),d=s(56086),c=s(21634),u=s(37139),p=s(40401),m=s(24583);let f=(0,m.Z)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var h=s(86728),x=s(72578),g=s(60237);let y=(0,m.Z)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var b=s(74871);let v=(0,m.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),j=(0,m.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),w=(0,m.Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),N=(0,m.Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),C=(0,m.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),k=(0,m.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),S=(0,m.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),_=(0,m.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),M=(0,m.Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var P=s(70460),A=s(27332);let z={status:null,chats:[],selectedChatId:null,messages:[],filter:"all",loadingStatus:!1,loadingChats:!1,loadingMessages:!1,sending:!1};var E=s(38609),I=s(18755);let O=[{key:"all",label:"All",icon:r.jsx(c.Z,{className:"h-3.5 w-3.5"})},{key:"unread",label:"Unread",icon:r.jsx(u.Z,{className:"h-3.5 w-3.5"})},{key:"groups",label:"Groups",icon:r.jsx(p.Z,{className:"h-3.5 w-3.5"})}],R=new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit"}),Z=e=>e?R.format(new Date(e)):"",W=e=>e.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase();function L(){let{user:e}=(0,E.a)(),[t,s]=(0,i.useState)("list"),[a,u]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),R=(0,i.useRef)(null),{status:L,chats:q,filter:D,messages:T,selectedChat:G,selectedChatId:U,selectChat:F,sendMessage:B,setFilter:V,startSession:H,resetSession:Q,loadingStatus:X,sending:$}=function(){let[e,t]=(0,i.useState)(z);(0,i.useRef)(null),(0,i.useRef)(null);let s=(0,i.useCallback)(async()=>{t(e=>({...e,loadingStatus:!0}));try{let e=await (0,A.ML)();console.debug("[WhatsApp][status]",e),t(t=>({...t,status:e,loadingStatus:!1}))}catch(e){console.error("[WhatsApp][status] error",e),t(t=>({...t,loadingStatus:!1,status:{status:"error",qrImage:null,hasQR:!1,lastError:e?.message}}))}},[]),r=(0,i.useCallback)(async e=>{t(e=>({...e,loadingStatus:!0}));try{let t=await (0,A.wi)(e);console.debug("[WhatsApp][init]",t)}catch(e){console.error("[WhatsApp][init] error",e)}finally{await s()}},[s]),a=(0,i.useCallback)(async()=>{t(e=>({...e,loadingStatus:!0,chats:[],messages:[],selectedChatId:null}));try{let e=await (0,A.BX)();console.debug("[WhatsApp][reset]",e)}catch(e){console.error("[WhatsApp][reset] error",e)}finally{await s()}},[s]),n=(0,i.useCallback)(async()=>{t(e=>({...e,loadingChats:!0}));try{let{chats:e}=await (0,A.fk)();console.debug("[WhatsApp][chats]",e),t(t=>({...t,chats:e,loadingChats:!1}))}catch(e){throw t(e=>({...e,loadingChats:!1})),e}},[]),l=(0,i.useCallback)(async e=>{t(e=>({...e,loadingMessages:!0}));try{let{messages:s}=await (0,A.vh)(e);console.debug("[WhatsApp][messages]",e,s.length),t(e=>({...e,messages:s,loadingMessages:!1}))}catch(e){throw t(e=>({...e,loadingMessages:!1})),e}},[]),o=(0,i.useCallback)(e=>{t(t=>({...t,selectedChatId:e})),l(e).catch(()=>{})},[l]),d=(0,i.useCallback)(async s=>{let r=s.trim();if(!r||!e.selectedChatId)return!1;t(e=>({...e,sending:!0}));try{return await (0,A.iL)(e.selectedChatId,r),await l(e.selectedChatId),await n(),!0}finally{t(e=>({...e,sending:!1}))}},[n,l,e.selectedChatId]),c=(0,i.useMemo)(()=>e.chats.filter(t=>"unread"===e.filter?t.unreadCount>0:"groups"!==e.filter||t.isGroup),[e.chats,e.filter]);return{...e,chats:c,allChats:e.chats,selectedChat:e.chats.find(t=>t.id===e.selectedChatId)||null,setFilter:e=>t(t=>({...t,filter:e})),refreshStatus:s,startSession:r,resetSession:a,loadChats:n,selectChat:o,sendMessage:d}}(),J=(0,i.useMemo)(()=>{let e=L?.status||"disconnected";return"connected"===e?{label:"Connected",color:"bg-green-500",icon:r.jsx(f,{className:"h-3.5 w-3.5"})}:"qr_ready"===e?{label:"Scan QR",color:"bg-amber-500",icon:r.jsx(h.Z,{className:"h-3.5 w-3.5"})}:"connecting"===e?{label:"Connecting",color:"bg-blue-500 animate-pulse",icon:r.jsx(x.Z,{className:"h-3.5 w-3.5 animate-spin"})}:"error"===e?{label:"Error",color:"bg-red-500",icon:r.jsx(g.Z,{className:"h-3.5 w-3.5"})}:{label:"Offline",color:"bg-slate-500",icon:r.jsx(y,{className:"h-3.5 w-3.5"})}},[L?.status]),K=q.filter(e=>{if(!a.trim())return!0;let t=a.toLowerCase();return e.name.toLowerCase().includes(t)||e.lastMessage?.text?.toLowerCase().includes(t)}),Y=e=>{F(e),s("chat")},ee=async()=>{if(!U){d.Am.info("Select a chat to start messaging");return}if(p.trim())try{await B(p)&&m("")}catch(e){d.Am.error(e?.message||"Failed to send message")}},et=L?.status==="qr_ready"&&L?.qrImage,es=L?.status==="connected";return(0,r.jsxs)("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4",children:[(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"WhatsApp Chat"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor and reply to WhatsApp messages in real-time"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:(0,I.cn)("flex items-center gap-2 rounded-full px-3 py-1.5 text-xs font-medium text-white",J.color),children:[J.icon,J.label]}),r.jsx(P.w,{size:"sm",variant:"outline",onClick:()=>H(!1),disabled:X,leftIcon:r.jsx(x.Z,{className:(0,I.cn)("h-4 w-4",X&&"animate-spin")}),children:es?"Reconnect":"Start Session"}),r.jsx(P.w,{size:"sm",variant:"ghost",onClick:()=>Q(),disabled:X,children:"Reset"})]})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-1 min-h-0 gap-4 rounded-xl border border-border bg-card/50 backdrop-blur overflow-hidden",children:[(0,r.jsxs)("aside",{className:(0,I.cn)("flex flex-col border-r border-border bg-card/80","list"===t?"flex w-full":"hidden","md:flex md:w-[340px]"),children:[(0,r.jsxs)("div",{className:"border-b border-border p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"font-semibold text-foreground",children:"Conversations"}),r.jsx("span",{className:(0,I.cn)("rounded-full px-2 py-0.5 text-xs font-medium",es?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:es?"Live":"Offline"})]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(b.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx("input",{value:a,onChange:e=>u(e.target.value),placeholder:"Search conversations...",className:"w-full rounded-lg border border-border bg-background pl-10 pr-4 py-2 text-sm outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),r.jsx("div",{className:"flex gap-2 mt-3",children:O.map(e=>(0,r.jsxs)("button",{onClick:()=>V(e.key),className:(0,I.cn)("flex items-center gap-1.5 rounded-full px-3 py-1.5 text-xs font-medium transition-all",D===e.key?"bg-primary text-primary-foreground shadow-sm":"bg-muted text-muted-foreground hover:bg-muted/80"),children:[e.icon,e.label]},e.key))})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:0===K.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[r.jsx(c.Z,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations found"}),r.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:es?"Start chatting!":"Connect WhatsApp to see chats"})]}):r.jsx("div",{className:"p-2 space-y-1",children:K.map((e,t)=>{let s=e.id===U;return(0,r.jsxs)(l.E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.03*t},onClick:()=>Y(e.id),className:(0,I.cn)("w-full flex items-center gap-3 rounded-lg p-3 text-left transition-all",s?"bg-primary/10 border border-primary/30":"hover:bg-muted/50"),children:[r.jsx("div",{className:(0,I.cn)("flex h-12 w-12 items-center justify-center rounded-full text-sm font-semibold",s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:W(e.name)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("p",{className:(0,I.cn)("font-medium truncate",s?"text-primary":"text-foreground"),children:e.name}),r.jsx("span",{className:"text-[10px] text-muted-foreground shrink-0",children:e.lastMessage?.timestamp?Z(e.lastMessage.timestamp):""})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 mt-0.5",children:[r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.lastMessage?.text||"No messages yet"}),e.unreadCount>0&&r.jsx("span",{className:"flex h-5 min-w-[20px] items-center justify-center rounded-full bg-primary px-1.5 text-[10px] font-bold text-primary-foreground",children:e.unreadCount})]})]})]},e.id)})})})]}),r.jsx("div",{className:(0,I.cn)("flex flex-1 flex-col","chat"===t?"flex":"hidden","md:flex"),children:et?r.jsx("div",{className:"flex flex-1 items-center justify-center p-6",children:(0,r.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-6 max-w-md text-center",children:[r.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:r.jsx(h.Z,{className:"h-8 w-8 text-primary"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Scan QR Code"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Open WhatsApp on your phone → Linked devices → Link a device"})]}),r.jsx("div",{className:"rounded-2xl border border-border bg-white p-4 shadow-lg",children:r.jsx(n(),{src:L.qrImage,alt:"WhatsApp QR",width:240,height:240})}),r.jsx(P.w,{variant:"outline",onClick:()=>H(!0),disabled:X,leftIcon:r.jsx(x.Z,{className:(0,I.cn)("h-4 w-4",X&&"animate-spin")}),children:"Refresh QR Code"})]})}):L?.status!=="connected"?r.jsx("div",{className:"flex flex-1 items-center justify-center p-6",children:(0,r.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-6 max-w-md text-center",children:[r.jsx("div",{className:"rounded-full bg-primary/10 p-4",children:r.jsx(c.Z,{className:"h-8 w-8 text-primary"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Start WhatsApp Session"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your WhatsApp to start receiving and sending messages"})]}),L?.status==="error"&&L.lastError&&(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-red-500/30 bg-red-500/10 px-4 py-2 text-sm text-red-400",children:[r.jsx(g.Z,{className:"h-4 w-4"}),L.lastError]}),r.jsx(P.w,{onClick:()=>H(!1),disabled:X,leftIcon:r.jsx(x.Z,{className:(0,I.cn)("h-4 w-4",X&&"animate-spin")}),children:"Start Session"})]})}):G?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>s("list"),className:"rounded-lg p-2 hover:bg-muted md:hidden",children:r.jsx(v,{className:"h-5 w-5"})}),r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground",children:W(G.name)}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold text-foreground",children:G.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:es?"Online":"Offline"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"rounded-lg p-2 text-muted-foreground hover:bg-muted hover:text-foreground",children:r.jsx(j,{className:"h-5 w-5"})}),r.jsx("button",{className:"rounded-lg p-2 text-muted-foreground hover:bg-muted hover:text-foreground",children:r.jsx(w,{className:"h-5 w-5"})}),r.jsx("button",{className:"rounded-lg p-2 text-muted-foreground hover:bg-muted hover:text-foreground",children:r.jsx(N,{className:"h-5 w-5"})})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.jsx(o.M,{children:T.map((e,t)=>{let s=e.fromMe;return r.jsx(l.E.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.02*t},className:(0,I.cn)("flex",s?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:(0,I.cn)("max-w-[75%] rounded-2xl px-4 py-2 shadow-sm",s?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"),children:[r.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.text}),(0,r.jsxs)("div",{className:(0,I.cn)("flex items-center justify-end gap-1 mt-1",s?"text-primary-foreground/70":"text-muted-foreground"),children:[r.jsx("span",{className:"text-[10px]",children:Z(e.timestamp)}),s&&r.jsx(C,{className:"h-3.5 w-3.5"})]})]})},e.id)})}),r.jsx("div",{ref:R})]}),r.jsx("div",{className:"border-t border-border p-4",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ee()},className:"flex items-end gap-2",children:[r.jsx("button",{type:"button",className:"rounded-lg p-2.5 text-muted-foreground hover:bg-muted hover:text-foreground",children:r.jsx(k,{className:"h-5 w-5"})}),r.jsx("button",{type:"button",className:"rounded-lg p-2.5 text-muted-foreground hover:bg-muted hover:text-foreground",children:r.jsx(S,{className:"h-5 w-5"})}),r.jsx("div",{className:"flex-1",children:r.jsx("textarea",{value:p,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ee())},placeholder:"Type a message...",rows:1,className:"w-full resize-none rounded-xl border border-border bg-background px-4 py-2.5 text-sm outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/20 max-h-32"})}),p.trim()?r.jsx(P.w,{type:"submit",size:"icon",className:"h-10 w-10 rounded-xl",disabled:$,children:r.jsx(_,{className:"h-5 w-5"})}):r.jsx("button",{type:"button",className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary text-primary-foreground",children:r.jsx(M,{className:"h-5 w-5"})})]})})]}):r.jsx("div",{className:"flex flex-1 items-center justify-center p-6",children:(0,r.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center gap-4 max-w-md text-center",children:[r.jsx("div",{className:"rounded-full bg-primary/10 p-6",children:r.jsx(c.Z,{className:"h-12 w-12 text-primary"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:"Select a conversation"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a chat from the list to view messages and start replying"})]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Logged in as"," ",r.jsx("span",{className:"font-medium text-foreground",children:e?.email})]})]})})})]})]})}},27332:(e,t,s)=>{"use strict";s.d(t,{BX:()=>i,ML:()=>n,fk:()=>l,iL:()=>d,vh:()=>o,wi:()=>a});var r=s(87674);async function a(e){return(0,r.SC)("/api/whatsapp/session/init",{method:"POST",body:{forceNewSession:e}})}async function n(){return(0,r.SC)("/api/whatsapp/session/status")}async function i(){return(0,r.SC)("/api/whatsapp/session/reset",{method:"POST"})}async function l(){return(0,r.SC)("/api/whatsapp/chats")}async function o(e){return(0,r.SC)(`/api/whatsapp/chats/${encodeURIComponent(e)}/messages`)}async function d(e,t){await (0,r.SC)("/api/whatsapp/chats/"+encodeURIComponent(e)+"/messages",{method:"POST",body:{text:t}})}},37139:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(24583).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},72578:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(24583).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},60237:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(24583).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},40730:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return b}});let r=s(74812),a=s(71569),n=s(73227),i=a._(s(23677)),l=r._(s(62812)),o=r._(s(61334)),d=s(77946),c=s(95744),u=s(4676);s(14370);let p=s(97701),m=r._(s(3727)),f={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function h(e,t,s,r,a,n,i){let l=null==e?void 0:e.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),null==s?void 0:s.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,a=!1;s.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}(null==r?void 0:r.current)&&r.current(e)}}))}function x(e){return i.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let g=(0,i.forwardRef)((e,t)=>{let{src:s,srcSet:r,sizes:a,height:l,width:o,decoding:d,className:c,style:u,fetchPriority:p,placeholder:m,loading:f,unoptimized:g,fill:y,onLoadRef:b,onLoadingCompleteRef:v,setBlurComplete:j,setShowAltText:w,sizesInput:N,onLoad:C,onError:k,...S}=e;return(0,n.jsx)("img",{...S,...x(p),loading:f,width:o,height:l,decoding:d,"data-nimg":y?"fill":"1",className:c,style:u,sizes:a,srcSet:r,src:s,ref:(0,i.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(k&&(e.src=e.src),e.complete&&h(e,m,b,v,j,g,N))},[s,m,b,v,j,k,g,N,t]),onLoad:e=>{h(e.currentTarget,m,b,v,j,g,N)},onError:e=>{w(!0),"empty"!==m&&j(!0),k&&k(e)}})});function y(e){let{isAppRouter:t,imgAttributes:s}=e,r={as:"image",imageSrcSet:s.srcSet,imageSizes:s.sizes,crossOrigin:s.crossOrigin,referrerPolicy:s.referrerPolicy,...x(s.fetchPriority)};return t&&l.default.preload?(l.default.preload(s.src,r),null):(0,n.jsx)(o.default,{children:(0,n.jsx)("link",{rel:"preload",href:s.srcSet?void 0:s.src,...r},"__nimg-"+s.src+s.srcSet+s.sizes)})}let b=(0,i.forwardRef)((e,t)=>{let s=(0,i.useContext)(p.RouterContext),r=(0,i.useContext)(u.ImageConfigContext),a=(0,i.useMemo)(()=>{var e;let t=f||r||c.imageConfigDefault,s=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),a=t.deviceSizes.sort((e,t)=>e-t),n=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:s,deviceSizes:a,qualities:n}},[r]),{onLoad:l,onLoadingComplete:o}=e,h=(0,i.useRef)(l);(0,i.useEffect)(()=>{h.current=l},[l]);let x=(0,i.useRef)(o);(0,i.useEffect)(()=>{x.current=o},[o]);let[b,v]=(0,i.useState)(!1),[j,w]=(0,i.useState)(!1),{props:N,meta:C}=(0,d.getImgProps)(e,{defaultLoader:m.default,imgConf:a,blurComplete:b,showAltText:j});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{...N,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:h,onLoadingCompleteRef:x,setBlurComplete:v,setShowAltText:w,sizesInput:e.sizes,ref:t}),C.priority?(0,n.jsx)(y,{isAppRouter:!s,imgAttributes:N}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87116:(e,t,s)=>{"use strict";e.exports=s(48998).vendored.contexts.AmpContext},31673:(e,t,s)=>{"use strict";e.exports=s(48998).vendored.contexts.HeadManagerContext},4676:(e,t,s)=>{"use strict";e.exports=s(48998).vendored.contexts.ImageConfigContext},87157:(e,t)=>{"use strict";function s(e){let{ampFirst:t=!1,hybrid:s=!1,hasQuery:r=!1}=void 0===e?{}:e;return t||s&&r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return s}})},77946:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),s(14370);let r=s(35122),a=s(95744);function n(e){return void 0!==e.default}function i(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t){var s,l;let o,d,c,{src:u,sizes:p,unoptimized:m=!1,priority:f=!1,loading:h,className:x,quality:g,width:y,height:b,fill:v=!1,style:j,overrideSrc:w,onLoad:N,onLoadingComplete:C,placeholder:k="empty",blurDataURL:S,fetchPriority:_,decoding:M="async",layout:P,objectFit:A,objectPosition:z,lazyBoundary:E,lazyRoot:I,...O}=e,{imgConf:R,showAltText:Z,blurComplete:W,defaultLoader:L}=t,q=R||a.imageConfigDefault;if("allSizes"in q)o=q;else{let e=[...q.deviceSizes,...q.imageSizes].sort((e,t)=>e-t),t=q.deviceSizes.sort((e,t)=>e-t),r=null==(s=q.qualities)?void 0:s.sort((e,t)=>e-t);o={...q,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===L)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let D=O.loader||L;delete O.loader,delete O.srcSet;let T="__next_img_default"in D;if(T){if("custom"===o.loader)throw Error('Image with src "'+u+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=D;D=t=>{let{config:s,...r}=t;return e(r)}}if(P){"fill"===P&&(v=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[P];e&&(j={...j,...e});let t={responsive:"100vw",fill:"100vw"}[P];t&&!p&&(p=t)}let G="",U=i(y),F=i(b);if("object"==typeof(l=u)&&(n(l)||void 0!==l.src)){let e=n(u)?u.default:u;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(d=e.blurWidth,c=e.blurHeight,S=S||e.blurDataURL,G=e.src,!v){if(U||F){if(U&&!F){let t=U/e.width;F=Math.round(e.height*t)}else if(!U&&F){let t=F/e.height;U=Math.round(e.width*t)}}else U=e.width,F=e.height}}let B=!f&&("lazy"===h||void 0===h);(!(u="string"==typeof u?u:G)||u.startsWith("data:")||u.startsWith("blob:"))&&(m=!0,B=!1),o.unoptimized&&(m=!0),T&&u.endsWith(".svg")&&!o.dangerouslyAllowSVG&&(m=!0),f&&(_="high");let V=i(g),H=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:A,objectPosition:z}:{},Z?{}:{color:"transparent"},j),Q=W||"empty"===k?null:"blur"===k?'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:U,heightInt:F,blurWidth:d,blurHeight:c,blurDataURL:S||"",objectFit:H.objectFit})+'")':'url("'+k+'")',X=Q?{backgroundSize:H.objectFit||"cover",backgroundPosition:H.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Q}:{},$=function(e){let{config:t,src:s,unoptimized:r,width:a,quality:n,sizes:i,loader:l}=e;if(r)return{src:s,srcSet:void 0,sizes:void 0};let{widths:o,kind:d}=function(e,t,s){let{deviceSizes:r,allSizes:a}=e;if(s){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(s);r)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:a.filter(t=>t>=r[0]*e),kind:"w"}}return{widths:a,kind:"w"}}return"number"!=typeof t?{widths:r,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>a.find(t=>t>=e)||a[a.length-1]))],kind:"x"}}(t,a,i),c=o.length-1;return{sizes:i||"w"!==d?i:"100vw",srcSet:o.map((e,r)=>l({config:t,src:s,quality:n,width:e})+" "+("w"===d?e:r+1)+d).join(", "),src:l({config:t,src:s,quality:n,width:o[c]})}}({config:o,src:u,unoptimized:m,width:U,quality:V,sizes:p,loader:D});return{props:{...O,loading:B?"lazy":h,fetchPriority:_,width:U,height:F,decoding:M,className:x,style:{...H,...X},sizes:$.sizes,srcSet:$.srcSet,src:w||$.src},meta:{unoptimized:m,priority:f,placeholder:k,fill:v}}}},61334:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return h},defaultHead:function(){return u}});let r=s(74812),a=s(71569),n=s(73227),i=a._(s(23677)),l=r._(s(71977)),o=s(87116),d=s(31673),c=s(87157);function u(e){void 0===e&&(e=!1);let t=[(0,n.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,n.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===i.default.Fragment?e.concat(i.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}s(14370);let m=["name","httpEquiv","charSet","itemProp"];function f(e,t){let{inAmpMode:s}=t;return e.reduce(p,[]).reverse().concat(u(s).reverse()).filter(function(){let e=new Set,t=new Set,s=new Set,r={};return a=>{let n=!0,i=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){i=!0;let t=a.key.slice(a.key.indexOf("$")+1);e.has(t)?n=!1:e.add(t)}switch(a.type){case"title":case"base":t.has(a.type)?n=!1:t.add(a.type);break;case"meta":for(let e=0,t=m.length;e<t;e++){let t=m[e];if(a.props.hasOwnProperty(t)){if("charSet"===t)s.has(t)?n=!1:s.add(t);else{let e=a.props[t],s=r[t]||new Set;("name"!==t||!i)&&s.has(e)?n=!1:(s.add(e),r[t]=s)}}}}return n}}()).reverse().map((e,t)=>{let r=e.key||t;if(!s&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,i.default.cloneElement(e,t)}return i.default.cloneElement(e,{key:r})})}let h=function(e){let{children:t}=e,s=(0,i.useContext)(o.AmpStateContext),r=(0,i.useContext)(d.HeadManagerContext);return(0,n.jsx)(l.default,{reduceComponentsToState:f,headManager:r,inAmpMode:(0,c.isInAmpMode)(s),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},35122:(e,t)=>{"use strict";function s(e){let{widthInt:t,heightInt:s,blurWidth:r,blurHeight:a,blurDataURL:n,objectFit:i}=e,l=r?40*r:t,o=a?40*a:s,d=l&&o?"viewBox='0 0 "+l+" "+o+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+d+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(d?"none":"contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+n+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return s}})},95744:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{VALID_LOADERS:function(){return s},imageConfigDefault:function(){return r}});let s=["default","imgix","cloudinary","akamai","custom"],r={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},901:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return o},getImageProps:function(){return l}});let r=s(74812),a=s(77946),n=s(40730),i=r._(s(3727));function l(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let o=n.Image},3727:(e,t)=>{"use strict";function s(e){var t;let{config:s,src:r,width:a,quality:n}=e,i=n||(null==(t=s.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return s.path+"?url="+encodeURIComponent(r)+"&w="+a+"&q="+i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),s.__next_img_default=!0;let r=s},71977:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=s(23677),a=()=>{},n=()=>{};function i(e){var t;let{headManager:s,reduceComponentsToState:i}=e;function l(){if(s&&s.mountedInstances){let t=r.Children.toArray(Array.from(s.mountedInstances).filter(Boolean));s.updateHead(i(t,e))}}return null==s||null==(t=s.mountedInstances)||t.add(e.children),l(),a(()=>{var t;return null==s||null==(t=s.mountedInstances)||t.add(e.children),()=>{var t;null==s||null==(t=s.mountedInstances)||t.delete(e.children)}}),a(()=>(s&&(s._pendingUpdate=l),()=>{s&&(s._pendingUpdate=l)})),n(()=>(s&&s._pendingUpdate&&(s._pendingUpdate(),s._pendingUpdate=null),()=>{s&&s._pendingUpdate&&(s._pendingUpdate(),s._pendingUpdate=null)})),null}},41676:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(53189).createProxy)(String.raw`/home/user/app-WhatsAppboot/apps/web/src/app/chat/layout.tsx#default`)},68127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(53189).createProxy)(String.raw`/home/user/app-WhatsAppboot/apps/web/src/app/chat/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[193,2,456,415,916,777,708],()=>s(75063));module.exports=r})();