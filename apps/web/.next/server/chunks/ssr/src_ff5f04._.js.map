{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/lib/utils.ts"],"sourcesContent":["export const cn = (...classes: (string | undefined | false | null)[]) =>\n  classes.filter(Boolean).join(' ');\r\n"],"names":[],"mappings":";;;AAAO,MAAM,KAAK,CAAC,GAAG,UACpB,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC"}},
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/ui/button.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        outline: 'border border-input bg-transparent hover:bg-accent hover:text-accent-foreground',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button';\n    return (\n      <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />\n    );\n  },\n);\nButton.displayName = 'Button';\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAQA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,OAAO;YACP,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASK,MAAM,uBAAS,gNAAM,UAAU,CACpC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,wPAAC;QAAK,WAAW,CAAA,GAAA,kIAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAE1F;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/theme-toggle.tsx"],"sourcesContent":["'use client';\n\nimport { Moon, Sun } from 'lucide-react';\nimport { useTheme } from 'next-themes';\n\nimport { Button } from '@/components/ui/button';\n\nexport const ThemeToggle = () => {\n  const { theme, setTheme } = useTheme();\n  const isDark = theme === 'dark';\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      aria-label=\"Toggle theme\"\n      onClick={() => setTheme(isDark ? 'light' : 'dark')}\n    >\n      {isDark ? <Sun className=\"h-5 w-5\" /> : <Moon className=\"h-5 w-5\" />}\n    </Button>\n  );\n};\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;AAOO,MAAM,cAAc;IACzB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,yJAAA,CAAA,WAAQ,AAAD;IACnC,MAAM,SAAS,UAAU;IAEzB,qBACE,wPAAC,iJAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,cAAW;QACX,SAAS,IAAM,SAAS,SAAS,UAAU;kBAE1C,uBAAS,wPAAC,gMAAA,CAAA,MAAG;YAAC,WAAU;;;;;iCAAe,wPAAC,kMAAA,CAAA,OAAI;YAAC,WAAU;;;;;;;;;;;AAG9D"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/lib/api.ts"],"sourcesContent":["// In development, use relative URLs to leverage Next.js proxy (same-origin = cookies work)\n// In production or when explicitly set, use the full API URL\nconst getApiBase = () => {\n  // Server-side: use full URL\n  if (typeof window === 'undefined') {\n    return process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:4000';\n  }\n  // Client-side in development: use relative URL to leverage Next.js proxy\n  if (process.env.NODE_ENV === 'development' && !process.env.NEXT_PUBLIC_API_BASE_URL) {\n    return '';\n  }\n  // Client-side with explicit API URL: use it (for production or custom setups)\n  return process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:4000';\n};\n\nexport const API_BASE = getApiBase();\n\ntype FetchOptions = {\n  method?: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n  body?: unknown;\n  headers?: Record<string, string>;\n};\n\nexport async function apiFetch<T = unknown>(path: string, opts: FetchOptions = {}): Promise<T> {\n  const { method = 'GET', body, headers } = opts;\n  const url = `${API_BASE}${path}`;\n  \n  try {\n    const res = await fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        ...(headers || {}),\n      },\n      body: body ? JSON.stringify(body) : undefined,\n      credentials: 'include',\n    });\n    \n    const text = await res.text();\n    let data: any = {};\n    \n    if (text) {\n      try {\n        data = JSON.parse(text);\n      } catch (e) {\n        // If response is not JSON, use text as message\n        data = { message: text };\n      }\n    }\n    \n    if (!res.ok) {\n      const msg = data?.message || `HTTP ${res.status}: ${res.statusText}`;\n      console.error(`[API] Request failed: ${method} ${url} - ${msg}`);\n      try {\n        (globalThis as any).__toast?.error?.(msg);\n      } catch {}\n      throw new Error(msg);\n    }\n    \n    return data as T;\n  } catch (error: any) {\n    // Re-throw if it's already our Error\n    if (error instanceof Error && error.message) {\n      throw error;\n    }\n    // Otherwise, wrap in a new error\n    const msg = error?.message || `Failed to fetch: ${method} ${url}`;\n    console.error(`[API] Request error: ${method} ${url}`, error);\n    throw new Error(msg);\n  }\n}\n\nexport const apiPost = <T = unknown>(path: string, body?: unknown) =>\n  apiFetch<T>(path, { method: 'POST', body });\n\nexport const apiGet = <T = unknown>(path: string) => apiFetch<T>(path, { method: 'GET' });\n\nexport const apiPut = <T = unknown>(path: string, body?: unknown) =>\n  apiFetch<T>(path, { method: 'PUT', body });\n\nexport const apiDelete = <T = unknown>(path: string) => apiFetch<T>(path, { method: 'DELETE' });\n\nexport async function apiUpload<T = unknown>(path: string, form: FormData): Promise<T> {\n  const res = await fetch(`${API_BASE}${path}`, {\n    method: 'POST',\n    body: form,\n    credentials: 'include',\n  });\n  const text = await res.text();\n  const data = text ? (JSON.parse(text) as T) : ({} as T);\n  if (!res.ok) {\n    const msg = (data as any)?.message || `HTTP ${res.status}`;\n    throw new Error(msg);\n  }\n  return data;\n}\n"],"names":[],"mappings":"AAAA,2FAA2F;AAC3F,6DAA6D;;;;;;;;;;AAC7D,MAAM,aAAa;IACjB,4BAA4B;IAC5B,IAAI,OAAO,WAAW,aAAa;QACjC,OAAO,QAAQ,GAAG,CAAC,wBAAwB,IAAI;IACjD;IACA,yEAAyE;IACzE,IAAI,oDAAyB,iBAAiB,CAAC,QAAQ,GAAG,CAAC,wBAAwB,EAAE;QACnF,OAAO;IACT;IACA,8EAA8E;IAC9E,OAAO,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AACjD;AAEO,MAAM,WAAW;AAQjB,eAAe,SAAsB,IAAY,EAAE,OAAqB,CAAC,CAAC;IAC/E,MAAM,EAAE,SAAS,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG;IAC1C,MAAM,MAAM,CAAC,EAAE,SAAS,EAAE,KAAK,CAAC;IAEhC,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAC3B;YACA,SAAS;gBACP,gBAAgB;gBAChB,GAAI,WAAW,CAAC,CAAC;YACnB;YACA,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;YACpC,aAAa;QACf;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,OAAY,CAAC;QAEjB,IAAI,MAAM;YACR,IAAI;gBACF,OAAO,KAAK,KAAK,CAAC;YACpB,EAAE,OAAO,GAAG;gBACV,+CAA+C;gBAC/C,OAAO;oBAAE,SAAS;gBAAK;YACzB;QACF;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,MAAM,MAAM,WAAW,CAAC,KAAK,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,IAAI,UAAU,CAAC,CAAC;YACpE,QAAQ,KAAK,CAAC,CAAC,sBAAsB,EAAE,OAAO,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,CAAC;YAC/D,IAAI;gBACD,WAAmB,OAAO,EAAE,QAAQ;YACvC,EAAE,OAAM,CAAC;YACT,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO;IACT,EAAE,OAAO,OAAY;QACnB,qCAAqC;QACrC,IAAI,iBAAiB,SAAS,MAAM,OAAO,EAAE;YAC3C,MAAM;QACR;QACA,iCAAiC;QACjC,MAAM,MAAM,OAAO,WAAW,CAAC,iBAAiB,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC;QACjE,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC,EAAE;QACvD,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,MAAM,UAAU,CAAc,MAAc,OACjD,SAAY,MAAM;QAAE,QAAQ;QAAQ;IAAK;AAEpC,MAAM,SAAS,CAAc,OAAiB,SAAY,MAAM;QAAE,QAAQ;IAAM;AAEhF,MAAM,SAAS,CAAc,MAAc,OAChD,SAAY,MAAM;QAAE,QAAQ;QAAO;IAAK;AAEnC,MAAM,YAAY,CAAc,OAAiB,SAAY,MAAM;QAAE,QAAQ;IAAS;AAEtF,eAAe,UAAuB,IAAY,EAAE,IAAc;IACvE,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,SAAS,EAAE,KAAK,CAAC,EAAE;QAC5C,QAAQ;QACR,MAAM;QACN,aAAa;IACf;IACA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,OAAO,OAAQ,KAAK,KAAK,CAAC,QAAe,CAAC;IAChD,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,AAAC,MAAc,WAAW,CAAC,KAAK,EAAE,IAAI,MAAM,CAAC,CAAC;QAC1D,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/lib/auth.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useCallback, useContext, useEffect, useMemo, useState } from 'react';\nimport { apiGet, apiPost } from './api';\n\ntype User = { id: string; name: string; email: string; role: string } | null;\n\ntype AuthContextValue = {\n  user: User;\n  loading: boolean;\n  error: string | null;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => Promise<void>;\n};\n\nconst AuthContext = createContext<AuthContextValue | undefined>(undefined);\n\nconst getStorage = () => (typeof window === 'undefined' ? null : window.sessionStorage);\n\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n  const [user, setUser] = useState<User>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const clearTokens = useCallback(() => {\n    const storage = getStorage();\n    storage?.clear();\n  }, []);\n\n  const fetchMe = useCallback(async () => {\n    const me = await apiGet<{ id: string; name: string; email: string; role: string }>(\n      '/api/auth/me',\n    );\n    setUser(me);\n  }, []);\n\n  const tryRefresh = useCallback(async () => {\n    try {\n      await apiPost<{ accessToken: string }>(\n        '/api/auth/refresh',\n        {},\n      );\n      return true;\n    } catch {\n      return false;\n    }\n  }, []);\n\n  const login = useCallback<AuthContextValue['login']>(async (email, password) => {\n    setError(null);\n    await apiPost<{ user: { id: string; name: string; email: string; role: string } }>(\n      '/api/auth/login',\n      { email, password },\n    );\n    await fetchMe();\n  }, [fetchMe]);\n\n  const logout = useCallback(async () => {\n    try {\n      await apiPost('/api/auth/logout', {});\n    } finally {\n      clearTokens();\n      setUser(null);\n    }\n  }, [clearTokens]);\n\n  useEffect(() => {\n    // nothing to preload; cookies will be sent automatically\n  }, []);\n\n  useEffect(() => {\n    let cancelled = false;\n    const boot = async () => {\n      try {\n        await fetchMe();\n      } catch (e: any) {\n        // Attempt refresh on 401-like errors\n        const ok = await tryRefresh();\n        if (ok) {\n          try {\n            await fetchMe();\n          } catch (e2: any) {\n            setError(e2?.message || 'Failed to fetch profile');\n          }\n        } else {\n          clearTokens();\n        }\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    };\n    boot();\n    return () => {\n      cancelled = true;\n    };\n  }, [tryRefresh, fetchMe, clearTokens]);\n\n  const value = useMemo<AuthContextValue>(() => ({ user, loading, error, login, logout }), [\n    user,\n    loading,\n    error,\n    login,\n    logout,\n  ]);\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport const useAuth = () => {\n  const ctx = useContext(AuthContext);\n  if (!ctx) throw new Error('useAuth must be used within AuthProvider');\n  return ctx;\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;AAeA,MAAM,4BAAc,CAAA,GAAA,+MAAA,CAAA,gBAAa,AAAD,EAAgC;AAEhE,MAAM,aAAa,IAAO,OAAO,WAAW,cAAc,OAAO,OAAO,cAAc;AAE/E,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAQ;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,cAAc,CAAA,GAAA,+MAAA,CAAA,cAAW,AAAD,EAAE;QAC9B,MAAM,UAAU;QAChB,SAAS;IACX,GAAG,EAAE;IAEL,MAAM,UAAU,CAAA,GAAA,+MAAA,CAAA,cAAW,AAAD,EAAE;QAC1B,MAAM,KAAK,MAAM,CAAA,GAAA,gIAAA,CAAA,SAAM,AAAD,EACpB;QAEF,QAAQ;IACV,GAAG,EAAE;IAEL,MAAM,aAAa,CAAA,GAAA,+MAAA,CAAA,cAAW,AAAD,EAAE;QAC7B,IAAI;YACF,MAAM,CAAA,GAAA,gIAAA,CAAA,UAAO,AAAD,EACV,qBACA,CAAC;YAEH,OAAO;QACT,EAAE,OAAM;YACN,OAAO;QACT;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,CAAA,GAAA,+MAAA,CAAA,cAAW,AAAD,EAA6B,OAAO,OAAO;QACjE,SAAS;QACT,MAAM,CAAA,GAAA,gIAAA,CAAA,UAAO,AAAD,EACV,mBACA;YAAE;YAAO;QAAS;QAEpB,MAAM;IACR,GAAG;QAAC;KAAQ;IAEZ,MAAM,SAAS,CAAA,GAAA,+MAAA,CAAA,cAAW,AAAD,EAAE;QACzB,IAAI;YACF,MAAM,CAAA,GAAA,gIAAA,CAAA,UAAO,AAAD,EAAE,oBAAoB,CAAC;QACrC,SAAU;YACR;YACA,QAAQ;QACV;IACF,GAAG;QAAC;KAAY;IAEhB,CAAA,GAAA,+MAAA,CAAA,YAAS,AAAD,EAAE;IACR,yDAAyD;IAC3D,GAAG,EAAE;IAEL,CAAA,GAAA,+MAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY;QAChB,MAAM,OAAO;YACX,IAAI;gBACF,MAAM;YACR,EAAE,OAAO,GAAQ;gBACf,qCAAqC;gBACrC,MAAM,KAAK,MAAM;gBACjB,IAAI,IAAI;oBACN,IAAI;wBACF,MAAM;oBACR,EAAE,OAAO,IAAS;wBAChB,SAAS,IAAI,WAAW;oBAC1B;gBACF,OAAO;oBACL;gBACF;YACF,SAAU;gBACR,IAAI,CAAC,WAAW,WAAW;YAC7B;QACF;QACA;QACA,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;QAAY;QAAS;KAAY;IAErC,MAAM,QAAQ,CAAA,GAAA,+MAAA,CAAA,UAAO,AAAD,EAAoB,IAAM,CAAC;YAAE;YAAM;YAAS;YAAO;YAAO;QAAO,CAAC,GAAG;QACvF;QACA;QACA;QACA;QACA;KACD;IAED,qBAAO,wPAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAEO,MAAM,UAAU;IACrB,MAAM,MAAM,CAAA,GAAA,+MAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/toast.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from 'react';\n\nexport function Toast({\n  message,\n  variant = 'info',\n  onClose,\n  duration = 2500,\n}: {\n  message: string;\n  variant?: 'info' | 'success' | 'error' | 'warning';\n  onClose?: () => void;\n  duration?: number;\n}) {\n  useEffect(() => {\n    if (!duration) return;\n    const t = setTimeout(() => onClose && onClose(), duration);\n    return () => clearTimeout(t);\n  }, [duration, onClose]);\n\n  const bg =\n    variant === 'success'\n      ? 'bg-emerald-600'\n      : variant === 'error'\n        ? 'bg-red-600'\n        : variant === 'warning'\n          ? 'bg-amber-600'\n          : 'bg-zinc-800';\n\n  return (\n    <div className={`pointer-events-auto fixed bottom-4 right-4 z-50 max-w-sm rounded-md ${bg} px-4 py-3 text-white shadow-lg`}\n      role=\"status\"\n      aria-live=\"polite\"\n    >\n      <div className=\"flex items-start gap-3\">\n        <div className=\"text-sm\">{message}</div>\n        {onClose ? (\n          <button className=\"ml-auto text-xs opacity-80 hover:opacity-100\" onClick={onClose} aria-label=\"Close\">\n            ✕\n          </button>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;;;AAIO,SAAS,MAAM,EACpB,OAAO,EACP,UAAU,MAAM,EAChB,OAAO,EACP,WAAW,IAAI,EAMhB;IACC,CAAA,GAAA,+MAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,UAAU;QACf,MAAM,IAAI,WAAW,IAAM,WAAW,WAAW;QACjD,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,KACJ,YAAY,YACR,mBACA,YAAY,UACV,eACA,YAAY,YACV,iBACA;IAEV,qBACE,wPAAC;QAAI,WAAW,CAAC,oEAAoE,EAAE,GAAG,+BAA+B,CAAC;QACxH,MAAK;QACL,aAAU;kBAEV,cAAA,wPAAC;YAAI,WAAU;;8BACb,wPAAC;oBAAI,WAAU;8BAAW;;;;;;gBACzB,wBACC,wPAAC;oBAAO,WAAU;oBAA+C,SAAS;oBAAS,cAAW;8BAAQ;;;;;2BAGpG;;;;;;;;;;;;AAIZ"}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/toast-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useCallback, useContext, useEffect, useMemo, useState, type ReactNode } from 'react';\nimport { Toast } from './toast';\n\ntype Variant = 'info' | 'success' | 'error' | 'warning';\n\ntype ToastItem = {\n  id: number;\n  message: string;\n  variant: Variant;\n  duration?: number;\n};\n\ntype ToastContextValue = {\n  show: (message: string, options?: { variant?: Variant; duration?: number }) => void;\n  success: (message: string, duration?: number) => void;\n  error: (message: string, duration?: number) => void;\n  info: (message: string, duration?: number) => void;\n  warning: (message: string, duration?: number) => void;\n};\n\nconst ToastContext = createContext<ToastContextValue | undefined>(undefined);\n\nexport function ToastProvider({ children }: { children: ReactNode }) {\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\n\n  const remove = useCallback((id: number) => {\n    setToasts((prev) => prev.filter((t) => t.id !== id));\n  }, []);\n\n  const show = useCallback<ToastContextValue['show']>((message, options) => {\n    const id = Math.floor(Date.now() + Math.random() * 1000);\n    const item: ToastItem = {\n      id,\n      message,\n      variant: options?.variant ?? 'info',\n      duration: options?.duration ?? 2500,\n    };\n    setToasts((prev) => [...prev, item]);\n  }, []);\n\n  const api = useMemo<ToastContextValue>(\n    () => ({\n      show,\n      success: (m, d) => show(m, { variant: 'success', duration: d }),\n      error: (m, d) => show(m, { variant: 'error', duration: d }),\n      info: (m, d) => show(m, { variant: 'info', duration: d }),\n      warning: (m, d) => show(m, { variant: 'warning', duration: d }),\n    }),\n    [show],\n  );\n\n  useEffect(() => {\n    (globalThis as any).__toast = api;\n    return () => {\n      if ((globalThis as any).__toast === api) {\n        delete (globalThis as any).__toast;\n      }\n    };\n  }, [api]);\n\n  return (\n    <ToastContext.Provider value={api}>\n      {children}\n      {toasts.map((t) => (\n        <Toast key={t.id} message={t.message} variant={t.variant} duration={t.duration} onClose={() => remove(t.id)} />\n      ))}\n    </ToastContext.Provider>\n  );\n}\n\nexport function useToast() {\n  const ctx = useContext(ToastContext);\n  if (!ctx) throw new Error('useToast must be used within ToastProvider');\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;AAsBA,MAAM,6BAAe,CAAA,GAAA,+MAAA,CAAA,gBAAa,AAAD,EAAiC;AAE3D,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACjE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAe,EAAE;IAEpD,MAAM,SAAS,CAAA,GAAA,+MAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC1B,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAClD,GAAG,EAAE;IAEL,MAAM,OAAO,CAAA,GAAA,+MAAA,CAAA,cAAW,AAAD,EAA6B,CAAC,SAAS;QAC5D,MAAM,KAAK,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK,KAAK,MAAM,KAAK;QACnD,MAAM,OAAkB;YACtB;YACA;YACA,SAAS,SAAS,WAAW;YAC7B,UAAU,SAAS,YAAY;QACjC;QACA,UAAU,CAAC,OAAS;mBAAI;gBAAM;aAAK;IACrC,GAAG,EAAE;IAEL,MAAM,MAAM,CAAA,GAAA,+MAAA,CAAA,UAAO,AAAD,EAChB,IAAM,CAAC;YACL;YACA,SAAS,CAAC,GAAG,IAAM,KAAK,GAAG;oBAAE,SAAS;oBAAW,UAAU;gBAAE;YAC7D,OAAO,CAAC,GAAG,IAAM,KAAK,GAAG;oBAAE,SAAS;oBAAS,UAAU;gBAAE;YACzD,MAAM,CAAC,GAAG,IAAM,KAAK,GAAG;oBAAE,SAAS;oBAAQ,UAAU;gBAAE;YACvD,SAAS,CAAC,GAAG,IAAM,KAAK,GAAG;oBAAE,SAAS;oBAAW,UAAU;gBAAE;QAC/D,CAAC,GACD;QAAC;KAAK;IAGR,CAAA,GAAA,+MAAA,CAAA,YAAS,AAAD,EAAE;QACP,WAAmB,OAAO,GAAG;QAC9B,OAAO;YACL,IAAI,AAAC,WAAmB,OAAO,KAAK,KAAK;gBACvC,OAAO,AAAC,WAAmB,OAAO;YACpC;QACF;IACF,GAAG;QAAC;KAAI;IAER,qBACE,wPAAC,aAAa,QAAQ;QAAC,OAAO;;YAC3B;YACA,OAAO,GAAG,CAAC,CAAC,kBACX,wPAAC,0IAAA,CAAA,QAAK;oBAAY,SAAS,EAAE,OAAO;oBAAE,SAAS,EAAE,OAAO;oBAAE,UAAU,EAAE,QAAQ;oBAAE,SAAS,IAAM,OAAO,EAAE,EAAE;mBAA9F,EAAE,EAAE;;;;;;;;;;;AAIxB;AAEO,SAAS;IACd,MAAM,MAAM,CAAA,GAAA,+MAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/confirm-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  type ReactNode,\n} from 'react';\n\ntype ConfirmOptions = {\n  title?: string;\n  description?: string;\n  confirmText?: string;\n  cancelText?: string;\n  variant?: 'default' | 'destructive';\n};\n\ntype PendingConfirm = ConfirmOptions & { id: number; resolve: (v: boolean) => void };\n\ntype ConfirmContextValue = {\n  confirm: (options: ConfirmOptions) => Promise<boolean>;\n};\n\nconst ConfirmContext = createContext<ConfirmContextValue | undefined>(undefined);\n\nexport function ConfirmProvider({ children }: { children: ReactNode }) {\n  const [dialog, setDialog] = useState<PendingConfirm | null>(null);\n  const previouslyFocused = useRef<HTMLElement | null>(null);\n  const confirmBtnRef = useRef<HTMLButtonElement | null>(null);\n  const cancelBtnRef = useRef<HTMLButtonElement | null>(null);\n\n  const confirm = useCallback<ConfirmContextValue['confirm']>((options) => {\n    return new Promise<boolean>((resolve) => {\n      setDialog({\n        id: Date.now(),\n        resolve,\n        title: options.title ?? 'Confirm action',\n        description: options.description ?? 'Are you sure you want to proceed? This action cannot be undone.',\n        confirmText: options.confirmText ?? 'Confirm',\n        cancelText: options.cancelText ?? 'Cancel',\n        variant: options.variant ?? 'default',\n      });\n    });\n  }, []);\n\n  const api = useMemo(() => ({ confirm }), [confirm]);\n\n  const onClose = (val: boolean) => {\n    if (!dialog) return;\n    dialog.resolve(val);\n    setDialog(null);\n  };\n\n  // Focus management & keyboard handling\n  useEffect(() => {\n    if (dialog) {\n      previouslyFocused.current = (document.activeElement as HTMLElement) || null;\n      // Focus confirm button by default after paint\n      const t = setTimeout(() => {\n        (confirmBtnRef.current || cancelBtnRef.current)?.focus();\n      }, 0);\n\n      const handleKey = (e: KeyboardEvent) => {\n        if (!dialog) return;\n        if (e.key === 'Escape') {\n          e.preventDefault();\n          onClose(false);\n          return;\n        }\n        if (e.key === 'Enter') {\n          // Avoid submitting from textarea inputs if any (none in this dialog)\n          e.preventDefault();\n          onClose(true);\n          return;\n        }\n        if (e.key === 'Tab') {\n          const focusables = [cancelBtnRef.current, confirmBtnRef.current].filter(\n            Boolean,\n          ) as HTMLElement[];\n          if (focusables.length === 0) return;\n          const idx = focusables.indexOf(document.activeElement as HTMLElement);\n          if (e.shiftKey) {\n            // backwards\n            const next = idx <= 0 ? focusables[focusables.length - 1] : focusables[idx - 1];\n            e.preventDefault();\n            next.focus();\n          } else {\n            const next = idx === -1 || idx >= focusables.length - 1 ? focusables[0] : focusables[idx + 1];\n            e.preventDefault();\n            next.focus();\n          }\n        }\n      };\n      document.addEventListener('keydown', handleKey);\n      return () => {\n        clearTimeout(t);\n        document.removeEventListener('keydown', handleKey);\n        // Restore focus to the previously focused element\n        try {\n          previouslyFocused.current?.focus();\n        } catch {}\n      };\n    }\n  }, [dialog]);\n\n  return (\n    <ConfirmContext.Provider value={api}>\n      {children}\n      {dialog ? (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center\" role=\"presentation\">\n          <div className=\"absolute inset-0 bg-black/40\" onClick={() => onClose(false)} />\n          <div\n            className=\"relative z-10 w-full max-w-sm rounded-md border bg-card p-4 shadow-xl outline-none\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"confirm-title\"\n            aria-describedby=\"confirm-desc\"\n            tabIndex={-1}\n          >\n            <h3 id=\"confirm-title\" className=\"mb-1 text-lg font-semibold\">\n              {dialog.title}\n            </h3>\n            <p id=\"confirm-desc\" className=\"mb-4 text-sm text-muted-foreground\">\n              {dialog.description}\n            </p>\n            <div className=\"flex justify-end gap-2\">\n              <button\n                ref={cancelBtnRef}\n                className=\"rounded-md border px-3 py-1.5 text-sm\"\n                onClick={() => onClose(false)}\n              >\n                {dialog.cancelText}\n              </button>\n              <button\n                ref={confirmBtnRef}\n                className={`rounded-md px-3 py-1.5 text-sm text-white ${dialog.variant === 'destructive' ? 'bg-red-600 hover:bg-red-700' : 'bg-primary hover:bg-primary/90'}`}\n                onClick={() => onClose(true)}\n              >\n                {dialog.confirmText}\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </ConfirmContext.Provider>\n  );\n}\n\nexport function useConfirm() {\n  const ctx = useContext(ConfirmContext);\n  if (!ctx) throw new Error('useConfirm must be used within ConfirmProvider');\n  return ctx.confirm;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/app/providers.tsx"],"sourcesContent":["'use client';\n\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ThemeProvider } from 'next-themes';\nimport { ReactNode, useState } from 'react';\nimport { AuthProvider } from '@/lib/auth';\nimport { ToastProvider } from '@/components/toast-provider';\nimport { ConfirmProvider } from '@/components/confirm-provider';\n\nexport const Providers = ({ children }: { children: ReactNode }) => {\n  const [queryClient] = useState(() => new QueryClient());\n\n  return (\n    <ThemeProvider attribute=\"class\" defaultTheme=\"system\" enableSystem>\n      <QueryClientProvider client={queryClient}>\n        <AuthProvider>\n          <ToastProvider>\n            <ConfirmProvider>{children}</ConfirmProvider>\n          </ToastProvider>\n        </AuthProvider>\n      </QueryClientProvider>\n    </ThemeProvider>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;;;AASO,MAAM,YAAY,CAAC,EAAE,QAAQ,EAA2B;IAC7D,MAAM,CAAC,YAAY,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE,IAAM,IAAI,6KAAA,CAAA,cAAW;IAEpD,qBACE,wPAAC,yJAAA,CAAA,gBAAa;QAAC,WAAU;QAAQ,cAAa;QAAS,YAAY;kBACjE,cAAA,wPAAC,sLAAA,CAAA,sBAAmB;YAAC,QAAQ;sBAC3B,cAAA,wPAAC,kIAAA,CAAA,eAAY;0BACX,cAAA,wPAAC,sJAAA,CAAA,gBAAa;8BACZ,cAAA,wPAAC,wJAAA,CAAA,kBAAe;kCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B"}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 747, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/user-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from 'next/link';\nimport { useAuth } from '@/lib/auth';\nimport { Button } from '@/components/ui/button';\nimport { useToast } from '@/components/toast-provider';\n\nexport function UserMenu() {\n  const { user, loading, logout } = useAuth();\n  const toast = useToast();\n\n  if (loading) {\n    return <span className=\"text-sm text-muted-foreground\">Loading…</span>;\n  }\n\n  if (!user) {\n    return (\n      <Button asChild variant=\"outline\" size=\"sm\">\n        <Link href=\"/login\">Login</Link>\n      </Button>\n    );\n  }\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <span className=\"text-sm text-muted-foreground hidden sm:inline\">{user.email}</span>\n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={async () => {\n          try {\n            await logout();\n            toast.success('Logged out');\n          } catch (e: any) {\n            toast.error(e?.message || 'Logout failed');\n          }\n        }}\n      >\n        Logout\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAOO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,UAAO,AAAD;IACxC,MAAM,QAAQ,CAAA,GAAA,sJAAA,CAAA,WAAQ,AAAD;IAErB,IAAI,SAAS;QACX,qBAAO,wPAAC;YAAK,WAAU;sBAAgC;;;;;;IACzD;IAEA,IAAI,CAAC,MAAM;QACT,qBACE,wPAAC,iJAAA,CAAA,SAAM;YAAC,OAAO;YAAC,SAAQ;YAAU,MAAK;sBACrC,cAAA,wPAAC,4HAAA,CAAA,UAAI;gBAAC,MAAK;0BAAS;;;;;;;;;;;IAG1B;IAEA,qBACE,wPAAC;QAAI,WAAU;;0BACb,wPAAC;gBAAK,WAAU;0BAAkD,KAAK,KAAK;;;;;;0BAC5E,wPAAC,iJAAA,CAAA,SAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS;oBACP,IAAI;wBACF,MAAM;wBACN,MAAM,OAAO,CAAC;oBAChB,EAAE,OAAO,GAAQ;wBACf,MAAM,KAAK,CAAC,GAAG,WAAW;oBAC5B;gBACF;0BACD;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}